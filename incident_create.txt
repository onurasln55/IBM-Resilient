#!/usr/bin/env python
 
"""
Simple script to create a new incident.
"""
from __future__ import print_function
import time
import logging

import resilient
 
 
logging.basicConfig()
 
 
class ExampleArgumentParser(resilient.ArgumentParser):
    """Arguments for this command-line application, extending the standard Resilient arguments"""
 
    def __init__(self, config_file=None):
        super(ExampleArgumentParser, self).__init__(config_file=config_file)
 
def main():
    """
    program main
    """
 
    parser = ExampleArgumentParser(config_file=resilient.get_config_file())
    opts = parser.parse_args()
 
    # Create SimpleClient for a REST connection to the Resilient services
    client = resilient.get_client(opts)
 
    # Discovered Date will be set to the current time
    time_now = int(time.time() * 1000)
 
    # Construct the basic incident DTO that will be posted
    new_incident = {"name": "nameincidnet",
                    "description": "This incident is created for the purpose test",
                    "discovered_date": time_now}
